from django.db import models
from rest_framework.reverse import reverse
from rest_framework import serializers

#import uuid

# Create your models here.

class Vehicle(models.Model):
    DOOR_COUNT_CHOICES = ((2, 'twoDoorCoupe'), (4, 'fourDoorSedan'))
#    ID_CHOICES = ((1234, 'id_1'), (1235, 'id_2'));
    
    vid = models.CharField(max_length=100, primary_key=True)
    vin = models.CharField(max_length=100, blank=False)
    color = models.CharField(max_length=100, blank=False)
#    fourDoorSedan = models.BooleanField(default=False)
 #   twoDoorCoupe = models.BooleanField(default=False)
    doorCount = models.IntegerField(choices=DOOR_COUNT_CHOICES)
    driveTrain = models.CharField(max_length=100, blank=False)
   # leftLock = models.BooleanField(default=true,blank=False)
   # rightLock = models.BooleanField(default=true,blank=False)

class Security(models.Model):
   # LOCATION_CHOICES = (('frontLeft', 'leftLocation'), ('backRight', 'rightLocation'))
#    vid = models.CharField(max_length=100)
    vehicle = models.ForeignKey(Vehicle, related_name='doors', on_delete=models.CASCADE)#, null=True, blank=True)
    location = models.CharField(max_length=100, blank=True)
   # rightLocation = models.CharField(max_length=100, default="rightLeft")
   # leftLock = models.BooleanField(default=True,blank=False)
    locked = models.BooleanField(default=True,blank=False)

    # class Meta:
    #     unique_together = ('vid', 'location')
    #     ordering = ['location']

    # def __unicode__(self):
    #     return '%s: %s' % (self.vid, self.location)

class Fuel(models.Model):
    vehicle = models.ForeignKey(Vehicle, related_name='fuelLevel', on_delete=models.CASCADE)#, null=True, blank=True)
   # vehicle = models.AutoField(primary_key=True)
    percent = models.FloatField(null=True, blank=True, default=None)
   # battery = models.IntegerField(null=True)

class Battery(models.Model):
    vehicle = models.ForeignKey(Vehicle, related_name='batteryLevel', on_delete=models.CASCADE)
   # vehicle = models.AutoField(primary_key=True)
    percent = models.FloatField(null=True, blank=True, default=None)


class Engine(models.Model):
    ACTION_CHOICES = (('START', 'start'), ('STOP', 'stop'))
    STATUS_CHOICES = (('success', 'executed'), ('error', 'failed'))

   # vid = models.CharField(max_length=100, primary_key=True)
    vehicle = models.ForeignKey(Vehicle, related_name='engineStatus', on_delete=models.CASCADE)
    action = models.CharField(max_length=100, choices=ACTION_CHOICES)
    status = models.CharField(max_length=100, choices=STATUS_CHOICES)
    state = models.BooleanField(default=False, null=False)
